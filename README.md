# 10-03hw
# «Pacemaker» - Дрибноход Давид

## Задание 1
Опишите основные функции и назначение Pacemaker.

Ответ: 

Pacemaker - это диспетчер ресурсов кластера с открытым исходным кодом в среде Linux.  Pacemaker использует функции управления сообщениями и элементами кластера, предоставляемые инфраструктурой  кластера (Corosync или Heartbeat), для обнаружения сбоев на уровне узлов и ресурсов и восстановления ресурсов,  тем самым обеспечивая максимальную надежность и высокую доступность кластерных сервисов.

Основные функции:

* поддерживает кворумные и ресурсозависимые кластеры любого размера;
* поддерживает практически любую избыточную конфигурацию;
* не зависит от подсистемы хранения: нет требования к общему накопителю;
* не зависит от типов ресурсов: все, что можно прописать в скрипты, можно кластеризовать;
* поддерживает STONITH (Shoot-The-Other-Node-In-The-Head), то есть умершая нода изолируется и запросы к ней не поступают, пока нода не отправит сообщение о том, что она снова в рабочем * состоянии;
* может автоматически реплицировать конфиг на все узлы кластера — не придется править все вручную;
* можно задать порядок запуска ресурсов, а также их совместимость на одном узле;
* позволяет находить и устранять сбои на уровне нод и служб;
* поддерживает расширенные типы ресурсов: клоны (когда ресурс запущен на множестве узлов) и дополнительные состояния (master/slave и подобное) — актуально для СУБД (MySQL, MariaDB, PostgreSQL, Oracle);
* имеет единую кластерную оболочку CRM с поддержкой скриптов.

## Задание 2
Опишите основные функции и назначение Corosync.

Ответ:

Corosync — это программный продукт, позволяющий реализовать кластер серверов. Его основное назначение — знать и передавать состояние всех участников кластера.

В основе работы заложены следующие функции:

* отслеживание состояния приложений;
* предоставление доступа к базе данных с конфигурацией и статистикой, а также отправка уведомлений о ее изменениях.
* оповещение приложений о смене активной ноды кластера;
* отправка одинаковых сообщений процессам на всех узлах кластера;
  

## Задание 3
Соберите модель, состоящую из двух виртуальных машин. Установите Pacemaker, Corosync, Pcs. Настройте HA кластер.

Ответ:

![Скриншот 1](https://github.com/DrDavidN/10-03hw/blob/main/img/10-03z3_1.JPG)
![Скриншот 2](https://github.com/DrDavidN/10-03hw/blob/main/img/10-03z3_2.JPG)

## Задание 4
Установите и настройте DRBD-сервис для настроенного кластера.

Ответ: 

![Скриншот 1](https://github.com/DrDavidN/10-03hw/blob/main/img/10-03z4_1.JPG)
![Скриншот 2](https://github.com/DrDavidN/10-03hw/blob/main/img/10-03z4_2.JPG)
![Скриншот 3](https://github.com/DrDavidN/10-03hw/blob/main/img/10-03z4_3.JPG)


